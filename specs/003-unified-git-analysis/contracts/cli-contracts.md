# CLI Contracts for Unified Git Analysis and Verification

This document defines the command-line interface (CLI) contracts for the
`git-verifier` tool, ensuring consistent behavior and argument parsing.
These contracts will be used for automated testing and documentation.

## Global Options

-   `--repo-path <path>`: Optional. Path to the Git repository. Defaults to the current working directory.

## 1. `git-verifier analyze` Command

Analyzes commit history to generate a synthesized narrative or a full Intent Report.

### Usage:
`git-verifier analyze [REVISION_RANGE] [--report] [--output-file <path>] [--repo-path <path>]`

### Arguments:
-   `REVISION_RANGE` (optional): The commit or range of commits to analyze (e.g., 'HEAD~5..HEAD', a branch name). Defaults to the last 10 commits on the current branch.

### Options:
-   `--report`: If specified, generates a full IntentReport for the entire branch, not just individual commit narratives.
-   `--output-file <path>`: Path to save the output (JSON format). If not provided, prints to standard output.

## 2. `git-verifier detect-rebased` Command

Detects local branches that have been rebased and may require verification.

### Usage:
`git-verifier detect-rebased [--since <date>] [--json] [--repo-path <path>]`

### Options:
-   `--since <date>`: Only show branches rebased since a certain date.
-   `--json`: Output the list of branches in JSON format.

## 3. `git-verifier verify` Command

Verifies a merged branch against a pre-merge Intent Report.

### Usage:
`git-verifier verify --report <path> --merged-branch <name> [--output-file <path>] [--repo-path <path>]`

### Options:
-   `--report <path>` (required): Path to the JSON IntentReport file generated by the `analyze --report` command before the merge.
-   `--merged-branch <name>` (required): The name of the branch into which the feature was merged (e.g., 'main').
-   `--output-file <path>`: Path to save the VerificationResult (JSON format). If not provided, prints to standard output.