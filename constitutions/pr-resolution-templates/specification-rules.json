{
  "name": "Specification Template Rules",
  "version": "1.0.0",
  "description": "Constitutional rules for specification templates following Spec Kit methodology",
  "rules": [
    {
      "id": "spec_has_title",
      "name": "Specification Has Title",
      "description": "Specification must have a clear, descriptive title",
      "category": "structure",
      "violation_type": "critical",
      "rule_pattern": "^#\\s+[^#\\n]{3,100}$",
      "severity_score": 0.9,
      "auto_fixable": false,
      "remediation_guide": "Add a descriptive title to the specification using H1 markdown format",
      "examples": [
        "# Enhanced PR Resolution with Spec Kit Methodology",
        "# Feature Specification: Automated Conflict Detection"
      ],
      "dependencies": [],
      "phase_applications": ["specification_template"]
    },
    {
      "id": "spec_has_overview",
      "name": "Specification Has Overview",
      "description": "Specification must include an overview section with primary goal",
      "category": "content",
      "violation_type": "critical",
      "rule_pattern": "## Overview\\s*\\n\\s*### Primary Goal\\s*\\n",
      "severity_score": 0.9,
      "auto_fixable": false,
      "remediation_guide": "Add an Overview section with Primary Goal subsection describing the main objective",
      "examples": [
        "## Overview\\n\\n### Primary Goal\\nTransform the PR resolution process...",
        "## Overview\\n\\n### Primary Goal\\nImplement automated conflict detection..."
      ],
      "dependencies": [],
      "phase_applications": ["specification_template"]
    },
    {
      "id": "spec_has_problem_statement",
      "name": "Specification Has Problem Statement",
      "description": "Specification must include current problem description",
      "category": "content",
      "violation_type": "major",
      "rule_pattern": "### Current Problem\\s*\\n",
      "severity_score": 0.7,
      "auto_fixable": false,
      "remediation_guide": "Add a Current Problem section describing what issues the specification addresses",
      "examples": [
        "### Current Problem\\nThe current EmailIntelligence CLI lacks...",
        "### Current Problem\\nManual resolution processes are error-prone..."
      ],
      "dependencies": [],
      "phase_applications": ["specification_template"]
    },
    {
      "id": "spec_has_success_criteria",
      "name": "Specification Has Success Criteria",
      "description": "Specification must include clear success criteria",
      "category": "validation",
      "violation_type": "major",
      "rule_pattern": "### Success Criteria\\s*\\n\\s*- \\[ \\]",
      "severity_score": 0.7,
      "auto_fixable": false,
      "remediation_guide": "Add a Success Criteria section with checklist items using - [ ] format",
      "examples": [
        "### Success Criteria\\n- [ ] Users can create detailed specifications\\n- [ ] Constitutional validation occurs automatically",
        "### Success Criteria\\n- [ ] Test-first approach ensures quality\\n- [ ] Integration with existing CLI workflows"
      ],
      "dependencies": [],
      "phase_applications": ["specification_template"]
    },
    {
      "id": "spec_has_user_stories",
      "name": "Specification Has User Stories",
      "description": "Specification should include user stories for key functionality",
      "category": "content",
      "violation_type": "minor",
      "rule_pattern": "## User Stories\\s*\\n\\s*### Story \\d+:",
      "severity_score": 0.4,
      "auto_fixable": false,
      "remediation_guide": "Add User Stories section with numbered stories in Given/When/Then format",
      "examples": [
        "## User Stories\\n\\n### Story 1: Specification Creation\\n**As a** developer...",
        "## User Stories\\n\\n### Story 2: Constitutional Validation\\n**As a** team lead..."
      ],
      "dependencies": [],
      "phase_applications": ["specification_template"]
    },
    {
      "id": "spec_has_non_functional_requirements",
      "name": "Specification Has Non-Functional Requirements",
      "description": "Specification should include performance and reliability requirements",
      "category": "requirements",
      "violation_type": "minor",
      "rule_pattern": "## Non-Functional Requirements\\s*\\n\\s*### Performance\\s*\\n",
      "severity_score": 0.5,
      "auto_fixable": false,
      "remediation_guide": "Add Non-Functional Requirements section with Performance, Reliability, and Usability subsections",
      "examples": [
        "## Non-Functional Requirements\\n\\n### Performance\\n- Specification creation: < 5 minutes",
        "## Non-Functional Requirements\\n\\n### Reliability\\n- Worktree isolation prevents corruption"
      ],
      "dependencies": [],
      "phase_applications": ["specification_template"]
    },
    {
      "id": "spec_has_implementation_constraints",
      "name": "Specification Has Implementation Constraints",
      "description": "Specification must clearly state implementation constraints",
      "category": "requirements",
      "violation_type": "major",
      "rule_pattern": "## Implementation Constraints\\s*\\n\\s*### Technical Constraints\\s*\\n",
      "severity_score": 0.7,
      "auto_fixable": false,
      "remediation_guide": "Add Implementation Constraints section with Technical and Organizational constraints",
      "examples": [
        "## Implementation Constraints\\n\\n### Technical Constraints\\n- Must integrate with existing CLI architecture",
        "## Implementation Constraints\\n\\n### Organizational Constraints\\n- Constitutional compliance is non-negotiable"
      ],
      "dependencies": [],
      "phase_applications": ["specification_template"]
    },
    {
      "id": "spec_has_change_log",
      "name": "Specification Has Change Log",
      "description": "Specification should include a change log for version tracking",
      "category": "metadata",
      "violation_type": "warning",
      "rule_pattern": "## Change Log\\s*\\n\\s*-\\s+\\*\\d{4}-\\d{2}-\\d{2}\\*:",
      "severity_score": 0.3,
      "auto_fixable": true,
      "remediation_guide": "Add Change Log section with date entries tracking specification evolution",
      "examples": [
        "## Change Log\\n- **2025-11-12**: Initial specification created using Spec Kit methodology",
        "## Change Log\\n- **2025-11-13**: Added user stories and success criteria\\n- **Status**: Ready for implementation"
      ],
      "dependencies": [],
      "phase_applications": ["specification_template"]
    }
  ]
}