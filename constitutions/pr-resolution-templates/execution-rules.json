{
  "name": "Execution Phase Rules",
  "version": "1.0.0",
  "description": "Constitutional rules for execution phases following Spec Kit methodology",
  "rules": [
    {
      "id": "phase_has_name",
      "name": "Execution Phase Has Name",
      "description": "Execution phase must have a clear, descriptive name",
      "category": "structure",
      "violation_type": "critical",
      "rule_pattern": "\"name\":\\s*\"[^\"]{3,100}\"",
      "severity_score": 0.9,
      "auto_fixable": false,
      "remediation_guide": "Add a descriptive name to the execution phase",
      "examples": [
        "\"name\": \"Phase 0: Foundation Setup\"",
        "\"name\": \"Phase 1: Specification Creation\""
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_validation_checkpoint",
      "name": "Phase Has Validation Checkpoint",
      "description": "Execution phase must include validation checkpoints",
      "category": "validation",
      "violation_type": "critical",
      "rule_pattern": "\"validation_checkpoints\":\\s*\\[",
      "severity_score": 0.9,
      "auto_fixable": false,
      "remediation_guide": "Add validation checkpoints to verify phase completion and quality",
      "examples": [
        "\"validation_checkpoints\": [\"Rule compliance verified\", \"Tests passed\", \"Performance within limits\"]",
        "\"validation_checkpoints\": [\"Constitutional compliance achieved\", \"Rollback tested\", \"Documentation updated\"]"
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_error_handling",
      "name": "Phase Has Error Handling",
      "description": "Execution phase must include error handling and recovery mechanisms",
      "category": "safety",
      "violation_type": "major",
      "rule_pattern": "\"error_handling\":\\s*\"[^\"]+\"",
      "severity_score": 0.8,
      "auto_fixable": false,
      "remediation_guide": "Add comprehensive error handling and recovery procedures",
      "examples": [
        "\"error_handling\": \"Graceful degradation with rollback on failure, detailed error reporting\"",
        "\"error_handling\": \"Retry logic with exponential backoff, manual intervention triggers\""
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_rollback_procedure",
      "name": "Phase Has Rollback Procedure",
      "description": "Execution phase must include rollback procedures",
      "category": "safety",
      "violation_type": "critical",
      "rule_pattern": "\"rollback_procedure\":\\s*\"[^\"]+\"",
      "severity_score": 0.9,
      "auto_fixable": false,
      "remediation_guide": "Add rollback procedures to safely revert phase execution if needed",
      "examples": [
        "\"rollback_procedure\": \"Revert worktree changes, restore database state, cleanup temporary files\"",
        "\"rollback_procedure\": \"Delete isolated environments, restore original branch state\""
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_performance_targets",
      "name": "Phase Has Performance Targets",
      "description": "Execution phase must include performance targets and monitoring",
      "category": "performance",
      "violation_type": "major",
      "rule_pattern": "\"performance_targets\":\\s*{",
      "severity_score": 0.7,
      "auto_fixable": false,
      "remediation_guide": "Add performance targets for execution time, resource usage, and quality metrics",
      "examples": [
        "\"performance_targets\": {\"execution_time\": \"< 300s\", \"memory_usage\": \"< 2GB\", \"quality_score\": \"> 0.8\"}",
        "\"performance_targets\": {\"spec_creation_time\": \"< 5min\", \"validation_time\": \"< 30s\"}"
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_monitoring",
      "name": "Phase Has Monitoring and Logging",
      "description": "Execution phase must include monitoring and logging for observability",
      "category": "observability",
      "violation_type": "major",
      "rule_pattern": "\"monitoring\":\\s*{",
      "severity_score": 0.7,
      "auto_fixable": false,
      "remediation_guide": "Add monitoring configuration with logging, metrics, and alerting",
      "examples": [
        "\"monitoring\": {\"log_level\": \"INFO\", \"metrics_enabled\": true, \"alerting_enabled\": true}",
        "\"monitoring\": {\"execution_tracking\": true, \"error_reporting\": true, \"performance_metrics\": true}"
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_parallel_coordination",
      "name": "Phase Has Parallel Coordination (if applicable)",
      "description": "Phases with parallel execution must include coordination mechanisms",
      "category": "coordination",
      "violation_type": "major",
      "rule_pattern": "\"parallel_coordination\":\\s*{",
      "severity_score": 0.8,
      "auto_fixable": false,
      "remediation_guide": "Add parallel coordination for phases with multiple parallel tasks",
      "examples": [
        "\"parallel_coordination\": {\"max_concurrent\": 3, \"sync_barriers\": [\"constitutional_check\", \"quality_validation\"]}",
        "\"parallel_coordination\": {\"task_coordination\": \"worktree_based\", \"resource_sharing\": \"isolated\"}"
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_quality_gates",
      "name": "Phase Has Quality Gates",
      "description": "Execution phase must include quality gates for phase completion",
      "category": "quality",
      "violation_type": "critical",
      "rule_pattern": "\"quality_gates\":\\s*\\[",
      "severity_score": 0.9,
      "auto_fixable": false,
      "remediation_guide": "Add quality gates that must pass before phase completion",
      "examples": [
        "\"quality_gates\": [\"constitutional_compliance\", \"test_coverage > 90%\", \"performance_benchmarks_pass\"]",
        "\"quality_gates\": [\"validation_success\", \"rollback_verified\", \"documentation_complete\"]"
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_constitutional_compliance",
      "name": "Phase Has Constitutional Compliance Check",
      "description": "Execution phase must include constitutional compliance verification",
      "category": "constitutional",
      "violation_type": "critical",
      "rule_pattern": "\"constitutional_compliance\":\\s*{",
      "severity_score": 0.9,
      "auto_fixable": false,
      "remediation_guide": "Add constitutional compliance verification with rules and scoring",
      "examples": [
        "\"constitutional_compliance\": {\"rules_applied\": [\"specification_rules\"], \"min_score\": 0.8}",
        "\"constitutional_compliance\": {\"validation_enabled\": true, \"blocking_violations\": [\"critical\"]}"
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_dependency_management",
      "name": "Phase Has Dependency Management",
      "description": "Execution phase must manage dependencies between tasks and phases",
      "category": "dependencies",
      "violation_type": "major",
      "rule_pattern": "\"dependencies\":\\s*\\[",
      "severity_score": 0.7,
      "auto_fixable": false,
      "remediation_guide": "Add dependency management for task execution order and phase transitions",
      "examples": [
        "\"dependencies\": [\"T1.1.1\", \"T1.2.1\"], \"dependency_resolution\": \"sequential_with_checkpoints\"",
        "\"dependencies\": [\"constitutional_engine_initialized\"], \"dependency_validation\": \"pre_execution\""
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_automation_level",
      "name": "Phase Has Automation Level Specification",
      "description": "Execution phase must specify level of automation (manual, semi-automated, fully automated)",
      "category": "automation",
      "violation_type": "minor",
      "rule_pattern": "\"automation_level\":\\s*\"(manual|semi_automated|fully_automated)\"",
      "severity_score": 0.4,
      "auto_fixable": true,
      "remediation_guide": "Specify the level of automation for the execution phase",
      "examples": [
        "\"automation_level\": \"fully_automated\"",
        "\"automation_level\": \"semi_automated\""
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_success_criteria",
      "name": "Phase Has Success Criteria",
      "description": "Execution phase must define clear success criteria for completion",
      "category": "validation",
      "violation_type": "major",
      "rule_pattern": "\"success_criteria\":\\s*\\[",
      "severity_score": 0.8,
      "auto_fixable": false,
      "remediation_guide": "Add success criteria defining what constitutes successful phase completion",
      "examples": [
        "\"success_criteria\": [\"all_constitutional_rules_passed\", \"quality_gates_satisfied\", \"rollback_verified\"]",
        "\"success_criteria\": [\"performance_targets_met\", \"documentation_complete\", \"testing_successful\"]"
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_resource_requirements",
      "name": "Phase Has Resource Requirements",
      "description": "Execution phase must specify resource requirements (CPU, memory, network, etc.)",
      "category": "resources",
      "violation_type": "minor",
      "rule_pattern": "\"resource_requirements\":\\s*{",
      "severity_score": 0.5,
      "auto_fixable": false,
      "remediation_guide": "Add resource requirements for phase execution",
      "examples": [
        "\"resource_requirements\": {\"cpu_cores\": 4, \"memory_gb\": 8, \"disk_space_gb\": 10, \"network_access\": true}",
        "\"resource_requirements\": {\"git_access\": true, \"worktree_support\": true, \"ai_api_access\": true}"
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    },
    {
      "id": "phase_has_timeout_configuration",
      "name": "Phase Has Timeout Configuration",
      "description": "Execution phase must include timeout configuration for long-running operations",
      "category": "safety",
      "violation_type": "major",
      "rule_pattern": "\"timeout_configuration\":\\s*{",
      "severity_score": 0.7,
      "auto_fixable": false,
      "remediation_guide": "Add timeout configuration with grace periods and escalation procedures",
      "examples": [
        "\"timeout_configuration\": {\"execution_timeout\": 1800, \"grace_period\": 300, \"escalation\": \"manual_intervention\"}",
        "\"timeout_configuration\": {\"phase_timeout\": 900, \"retry_limit\": 3, \"failure_action\": \"rollback\"}"
      ],
      "dependencies": [],
      "phase_applications": ["execution_phase"]
    }
  ]
}