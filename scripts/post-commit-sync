#!/bin/bash
<<<<<<< HEAD
# Git post-commit hook for documentation synchronization
# This hook runs after each commit to keep documentation synchronized

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
PROJECT_ROOT="$(dirname "$SCRIPT_DIR")"

# Check if this is a documentation-related commit
if git diff-tree --no-commit-id --name-only HEAD | grep -q "^docs/\|^backlog/"; then
<<<<<<< HEAD
    echo "Documentation changes detected, running sync..."

    # Run the sync script
    if python "$SCRIPT_DIR/auto_sync_docs.py" --run-once; then
        echo "Documentation sync completed successfully"
    else
        echo "Warning: Documentation sync failed"
    fi
<<<<<<< HEAD

    # Trigger Agent Workflow components for documentation processing
    echo "Triggering Agent Workflow components..."
    
    if python "$SCRIPT_DIR/agent_workflow_integration.py"; then
        echo "Agent Workflow integration completed successfully"
else
    echo "No documentation changes detected, skipping sync"
fi